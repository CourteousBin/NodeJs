var Yike=angular.module("Yike",["ngRoute","Controllers","Directives"]);Yike.config(["$routeProvider",function(o){o.when("/today",{templateUrl:"./views/today.html",controller:"TodayController"}).when("/older",{templateUrl:"./views/older.html",controller:"OlderController"}).when("/author",{templateUrl:"./views/author.html",controller:"AuthorController"}).otherwise({redirectTo:"/today"})}]),Yike.run(["$rootScope",function(r){r.collapsed=!1,r.toggle=function(){r.collapsed=!r.collapsed;var o=document.querySelectorAll(".navs dd");if(r.collapsed)for(var e=0;e<o.length;e++)o[e].style.transform="translate(0)",o[e].style.transitionDelay="0.2s",o[e].style.transitionDuration=.15*(e+1)+"s";else for(var t=o.length-1,l=t;0<l;l--)o[l].style.transform="translate(-100%)",o[l].style.transitionDelay="",o[l].style.transitionDuration=.15*(t-l)+"s"}}]),angular.module("Controllers",[]).controller("DemoController",["$scope",function(o){console.log("启动了")}]).controller("NavController",["$scope",function(o){o.navs=[{link:"#/today",text:"今日一刻",icon:"icon-home"},{link:"#/older",text:"往期内容",icon:"icon-file-empty"},{link:"#/author",text:"热门作者",icon:"icon-pencil"},{url:"#/category",text:"栏目浏览",icon:"icon-menu"},{url:"#/favourite",text:"我的喜欢",icon:"icon-heart"},{url:"#/settings",text:"设置",icon:"icon-cog"}]}]).controller("TodayController",["$scope","$http","$filter","$rootScope",function(e,o,t,l){var r=t("date")(new Date,"yyyy-MM-dd");l.title="今日一刻",l.index=0,l.loaded=!1,o({url:"./api/today.php",method:"get",params:{today:r}}).success(function(o){l.loaded=!0,e.date=o.date,e.posts=o.posts})}]).controller("OlderController",["$scope","$http","$rootScope",function(e,o,t){t.title="往期内容",t.index=1,t.loaded=!1,o({url:"./api/older.php"}).success(function(o){t.loaded=!0,console.log(o),e.date=o.date,e.posts=o.posts})}]).controller("AuthorController",["$scope","$http","$rootScope",function(e,o,t){t.index=2,t.title="热门作者",t.loaded=!1,o({url:"./api/author.php"}).success(function(o){t.loaded=!0,e.rec=o.rec,e.all=o.all})}]),angular.module("Directives",[]).directive("loading",function(){return{restrict:"A",replace:!0,template:'<img src="" alt="" />'}});